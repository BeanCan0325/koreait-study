

USE study_project;

CREATE TABLE member (
    id BIGINT NOT NULL AUTO_INCREMENT COMMENT 'PK',
    user_name VARCHAR(50) NOT NULL COMMENT '이름',
    email VARCHAR(100) NOT NULL COMMENT '이메일',
    nick_name VARCHAR(50) NOT NULL COMMENT '닉네임',
    password VARCHAR(255) NOT NULL COMMENT '비밀번호(해시)',
    phone_number VARCHAR(20) NULL COMMENT '전화번호(선택)',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '가입일',
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일',
    PRIMARY KEY (id),
    UNIQUE KEY uk_member_email (email),
    UNIQUE KEY uk_member_nick (nick_name)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;



use study;

CREATE TABLE board (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    board_type VARCHAR(20) NOT NULL,
    category VARCHAR(20) NOT NULL,
    view_count INT NOT NULL DEFAULT 0,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    writer_id BIGINT NOT NULL,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    CONSTRAINT fk_board_member FOREIGN KEY (writer_id)
        REFERENCES member(id)
);